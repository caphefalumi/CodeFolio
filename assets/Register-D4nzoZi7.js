import{_ as q,C as k,g as G,o as C,w as l,a as s,r as t,d as m,b as u,i as L,n as R,f as p}from"./index-CeU_B2Cf.js";const N={name:"RegisterComponent",components:{GoogleLogin:k},data(){return{loading:!1,form:{email:"",password:"",confirmPassword:""},rules:{required:o=>!!o||"This field is required",email:o=>/.+@.+\..+/.test(o)||"Email must be valid",password:o=>o.length>=8||"Password must be at least 8 characters",confirmPassword:o=>o===this.form.password||"Passwords must match"}}},methods:{async handleRegister(){var o;this.loading=!0;try{await p.post("/api/auth/register",{email:this.form.email,password:this.form.password}),this.$router.push("/")}catch(e){console.error("Registration error:",((o=e.response)==null?void 0:o.data)||e.message)}finally{this.loading=!1}},async handleGoogleLogin(o){var i;const e=R(o.credential);console.log("Google user data:",e);try{const n=await p.post("/auth/google/register",e);localStorage.setItem("user",JSON.stringify(n.data)),this.$router.push("/")}catch(n){console.error("Google registration error:",((i=n.response)==null?void 0:i.data)||n.message)}}}},S={class:"text-center"},B={class:"text-center mt-4"};function U(o,e,i,n,r,c){const _=t("v-card-title"),d=t("v-text-field"),f=t("v-btn"),g=t("v-form"),v=t("v-divider"),w=t("GoogleLogin"),b=t("router-link"),h=t("v-card-text"),x=t("v-card"),y=t("v-col"),V=t("v-row"),P=t("v-container");return C(),G(P,null,{default:l(()=>[s(V,{justify:"center"},{default:l(()=>[s(y,{cols:"12",sm:"8",md:"6"},{default:l(()=>[s(x,{class:"mt-8"},{default:l(()=>[s(_,{class:"text-h4 text-center pt-6"},{default:l(()=>e[3]||(e[3]=[m(" Create Account ")])),_:1,__:[3]}),s(h,null,{default:l(()=>[s(g,{onSubmit:L(c.handleRegister,["prevent"])},{default:l(()=>[s(d,{modelValue:r.form.email,"onUpdate:modelValue":e[0]||(e[0]=a=>r.form.email=a),label:"Email",type:"email",required:"",rules:[r.rules.required,r.rules.email]},null,8,["modelValue","rules"]),s(d,{modelValue:r.form.password,"onUpdate:modelValue":e[1]||(e[1]=a=>r.form.password=a),label:"Password",type:"password",required:"",rules:[r.rules.required,r.rules.password]},null,8,["modelValue","rules"]),s(d,{modelValue:r.form.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>r.form.confirmPassword=a),label:"Confirm Password",type:"password",required:"",rules:[r.rules.required,r.rules.confirmPassword]},null,8,["modelValue","rules"]),s(f,{type:"submit",color:"primary",block:"",class:"mt-4",loading:r.loading},{default:l(()=>e[4]||(e[4]=[m(" Register ")])),_:1,__:[4]},8,["loading"])]),_:1},8,["onSubmit"]),s(v,{class:"my-4"}),u("div",S,[e[5]||(e[5]=u("p",{class:"text-body-2 mb-2"},"Or register with",-1)),s(w,{callback:c.handleGoogleLogin,prompt:"","auto-login":""},null,8,["callback"])]),u("div",B,[s(b,{to:"/login",class:"text-decoration-none"},{default:l(()=>e[6]||(e[6]=[m(" Already have an account? Login ")])),_:1,__:[6]})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const E=q(N,[["render",U]]);export{E as default};
