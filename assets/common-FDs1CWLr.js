import{_ as w,f as m,g as k,o as g,w as d,d as y,t as h,a as I,r as _,n as C,k as D,y as b,z as v,e as p}from"./index-e39HvZBY.js";const N={name:"AppAlert",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:n=>["error","success","warning","info"].includes(n)},customClass:{type:String,default:""}},computed:{alertClasses(){const n=this.customClass||"mb-4",r={error:"bg-white text-red-darken-1 font-weight-medium",success:"bg-white text-green-darken-1 font-weight-medium",warning:"bg-white text-orange-darken-1 font-weight-medium",info:"bg-white text-blue-darken-1 font-weight-medium"};return`${n} ${r[this.type]||r.info}`},iconMap(){return{error:"mdi-alert-circle",success:"mdi-check-circle",warning:"mdi-alert",info:"mdi-information"}}}};function P(n,r,e,o,f,i){const l=_("v-icon"),u=_("v-alert");return e.message?(g(),m(u,{key:0,type:e.type,class:C(i.alertClasses),border:"start","colored-border":"",elevation:"0",density:"comfortable",role:"alert","aria-live":e.type==="error"?"assertive":"polite"},{prepend:d(()=>[I(l,{color:e.type,size:"24","aria-hidden":"true"},{default:d(()=>[y(h(i.iconMap[e.type]),1)]),_:1},8,["color"])]),default:d(()=>[y(" "+h(e.message),1)]),_:1},8,["type","class","aria-live"])):k("",!0)}const M=w(N,[["render",P]]),V={name:"AppButton",props:{type:{type:String,default:"button"},color:{type:String,default:"primary"},variant:{type:String,default:"elevated"},size:{type:String,default:"default"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},prependIcon:{type:String,default:""},appendIcon:{type:String,default:""},ariaLabel:{type:String,default:""},buttonClass:{type:String,default:""}},emits:["click"],methods:{handleClick(n){!this.disabled&&!this.loading&&this.$emit("click",n)}}};function F(n,r,e,o,f,i){const l=_("v-icon"),u=_("v-btn");return g(),m(u,{type:e.type,color:e.color,variant:e.variant,size:e.size,block:e.block,disabled:e.disabled,loading:e.loading,"aria-label":e.ariaLabel,class:C(e.buttonClass),onClick:i.handleClick},{default:d(()=>[e.prependIcon?(g(),m(l,{key:0,left:!!n.$slots.default,"aria-hidden":!0},{default:d(()=>[y(h(e.prependIcon),1)]),_:1},8,["left"])):k("",!0),D(n.$slots,"default"),e.appendIcon?(g(),m(l,{key:1,right:"","aria-hidden":!0},{default:d(()=>[y(h(e.appendIcon),1)]),_:1})):k("",!0)]),_:3},8,["type","color","variant","size","block","disabled","loading","aria-label","class","onClick"])}const T=w(V,[["render",F]]);function E(){const n=b(!1),r=b(""),e=b(""),o=t=>({headers:{Authorization:`Bearer ${t}`}}),f=t=>({headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}}),i=(t,a="An error occurred")=>{var s,c;r.value=((c=(s=t.response)==null?void 0:s.data)==null?void 0:c.message)||t.message||a},l=()=>{r.value="",e.value=""},u=async(t,a="")=>{n.value=!0,l();try{const s=await t();return a&&(e.value=a),s}catch(s){throw i(s),s}finally{n.value=!1}},A=async(t,a,s)=>{const c=new FormData;return c.append("image",t),(await p.post(a,c,f(s))).data.uri},S=async(t,a)=>(await p.post("/api/posts",t,o(a))).data.post,x=async(t,a,s)=>(await p.patch(`/api/posts/${t}`,a,o(s))).data.post,z=async(t,a)=>{await p.delete(`/api/posts/${t}`,o(a))},B=async(t,a)=>(await p.patch("/api/users",t,o(a))).data;return{loading:v(()=>n.value),error:v(()=>r.value),success:v(()=>e.value),clearMessages:l,handleError:i,apiCall:u,getAuthHeaders:o,getAuthHeadersWithFormData:f,uploadImage:A,createPost:S,updatePost:x,deletePost:z,updateUser:B}}export{M as A,T as a,E as u};
