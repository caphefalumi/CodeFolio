import{_ as w,f as m,g as k,o as g,w as d,d as y,t as h,a as I,r as v,n as C,k as D,y as _,z as b,e as p}from"./index-BCuZNNsW.js";const N={name:"AppAlert",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:s=>["error","success","warning","info"].includes(s)},customClass:{type:String,default:""}},computed:{alertClasses(){const s=this.customClass||"mb-4",r={error:"bg-white text-red-darken-1 font-weight-medium",success:"bg-white text-green-darken-1 font-weight-medium",warning:"bg-white text-orange-darken-1 font-weight-medium",info:"bg-white text-blue-darken-1 font-weight-medium"};return`${s} ${r[this.type]||r.info}`},iconMap(){return{error:"mdi-alert-circle",success:"mdi-check-circle",warning:"mdi-alert",info:"mdi-information"}}}};function P(s,r,e,o,f,l){const i=v("v-icon"),u=v("v-alert");return e.message?(g(),m(u,{key:0,type:e.type,class:C(l.alertClasses),border:"start","colored-border":"",elevation:"0",density:"comfortable",role:"alert","aria-live":e.type==="error"?"assertive":"polite"},{prepend:d(()=>[I(i,{color:e.type,size:"24","aria-hidden":"true"},{default:d(()=>[y(h(l.iconMap[e.type]),1)]),_:1},8,["color"])]),default:d(()=>[y(" "+h(e.message),1)]),_:1},8,["type","class","aria-live"])):k("",!0)}const M=w(N,[["render",P]]),V={name:"AppButton",props:{type:{type:String,default:"button"},color:{type:String,default:"primary"},variant:{type:String,default:"elevated"},size:{type:String,default:"default"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},prependIcon:{type:String,default:""},appendIcon:{type:String,default:""},ariaLabel:{type:String,default:""},buttonClass:{type:String,default:""}},emits:["click"],methods:{handleClick(s){!this.disabled&&!this.loading&&this.$emit("click",s)}}};function F(s,r,e,o,f,l){const i=v("v-icon"),u=v("v-btn");return g(),m(u,{type:e.type,color:e.color,variant:e.variant,size:e.size,block:e.block,disabled:e.disabled,loading:e.loading,"aria-label":e.ariaLabel,class:C(e.buttonClass),onClick:l.handleClick},{default:d(()=>[e.prependIcon?(g(),m(i,{key:0,left:!!s.$slots.default,"aria-hidden":!0},{default:d(()=>[y(h(e.prependIcon),1)]),_:1},8,["left"])):k("",!0),D(s.$slots,"default"),e.appendIcon?(g(),m(i,{key:1,right:"","aria-hidden":!0},{default:d(()=>[y(h(e.appendIcon),1)]),_:1})):k("",!0)]),_:3},8,["type","color","variant","size","block","disabled","loading","aria-label","class","onClick"])}const T=w(V,[["render",F]]);function E(){const s=_(!1),r=_(""),e=_(""),o=t=>({headers:{Authorization:`Bearer ${t}`}}),f=t=>({headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}}),l=(t,a="An error occurred")=>{var n,c;r.value=((c=(n=t.response)==null?void 0:n.data)==null?void 0:c.message)||t.message||a},i=()=>{r.value="",e.value=""},u=async(t,a="")=>{s.value=!0,i();try{const n=await t();return a&&(e.value=a),n}catch(n){throw l(n),n}finally{s.value=!1}},A=async(t,a,n)=>{const c=new FormData;return c.append("image",t),(await p.post(a,c,f(n))).data.uri},S=async(t,a)=>(await p.post("https://server-codefolio.vercel.app/api/posts",t,o(a))).data.post,x=async(t,a,n)=>(await p.patch(`https://server-codefolio.vercel.app/api/posts/${t}`,a,o(n))).data.post,z=async(t,a)=>{await p.delete(`https://server-codefolio.vercel.app/api/posts/${t}`,o(a))},B=async(t,a)=>(await p.patch("https://server-codefolio.vercel.app/api/users",t,o(a))).data;return{loading:b(()=>s.value),error:b(()=>r.value),success:b(()=>e.value),clearMessages:i,handleError:l,apiCall:u,getAuthHeaders:o,getAuthHeadersWithFormData:f,uploadImage:A,createPost:S,updatePost:x,deletePost:z,updateUser:B}}export{M as A,T as a,E as u};
