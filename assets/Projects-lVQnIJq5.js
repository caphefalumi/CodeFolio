import{_ as T,c as p,o as r,a as e,w as l,r as n,F as h,e as g,f as M,g as w,d as c,t as d,b as A}from"./index-fQDtSz6u.js";const D={name:"ProjectsView",data(){return{projects:[],search:"",selectedType:"all",sortBy:"newest",page:1,itemsPerPage:9,projectTypes:[{title:"All Types",value:"all"},{title:"Web App",value:"web"},{title:"Mobile App",value:"mobile"},{title:"Game",value:"game"},{title:"Design",value:"design"}],sortOptions:[{title:"Newest First",value:"newest"},{title:"Most Liked",value:"liked"},{title:"Most Viewed",value:"viewed"}]}},computed:{filteredProjects(){return this.projects.filter(t=>this.search===""||t.title.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase())).sort((t,o)=>this.sortBy==="newest"?new Date(o.createdAt)-new Date(t.createdAt):this.sortBy==="liked"?(o.upvotes||0)-(t.upvotes||0):this.sortBy==="viewed"?(o.views||0)-(t.views||0):0)},totalPages(){return Math.ceil(this.filteredProjects.length/this.itemsPerPage)},paginatedProjects(){const t=(this.page-1)*this.itemsPerPage;return this.filteredProjects.slice(t,t+this.itemsPerPage)}},methods:{toggleLike(t){t.liked=!t.liked}},mounted(){M.get("/api/posts/").then(t=>{this.projects=t.data,console.log("Projects:",this.projects)}).catch(t=>{console.error("Error fetching projects:",t)})}};function F(t,o,N,U,i,u){const P=n("v-text-field"),a=n("v-col"),v=n("v-select"),m=n("v-row"),y=n("v-card-title"),V=n("v-chip"),k=n("v-card-text"),f=n("v-btn"),x=n("v-spacer"),B=n("v-icon"),b=n("v-card-actions"),j=n("v-card"),C=n("v-pagination"),L=n("v-container");return r(),p("div",null,[e(L,null,{default:l(()=>[e(m,{class:"mb-6"},{default:l(()=>[e(a,{cols:"12",md:"6"},{default:l(()=>[e(P,{modelValue:i.search,"onUpdate:modelValue":o[0]||(o[0]=s=>i.search=s),label:"Search projects","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"3"},{default:l(()=>[e(v,{modelValue:i.selectedType,"onUpdate:modelValue":o[1]||(o[1]=s=>i.selectedType=s),items:i.projectTypes,"item-title":"title","item-value":"value",label:"Project Type",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"12",md:"3"},{default:l(()=>[e(v,{modelValue:i.sortBy,"onUpdate:modelValue":o[2]||(o[2]=s=>i.sortBy=s),items:i.sortOptions,"item-title":"title","item-value":"value",label:"Sort By",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[(r(!0),p(h,null,g(u.paginatedProjects,s=>(r(),w(a,{key:s._id,cols:"12",md:"4"},{default:l(()=>[e(j,null,{default:l(()=>[e(y,null,{default:l(()=>[c(d(s.title),1)]),_:2},1024),e(k,null,{default:l(()=>[A("p",null,d(s.description),1),(r(!0),p(h,null,g(s.tags,_=>(r(),w(V,{key:_,class:"mr-2 mb-2",size:"small"},{default:l(()=>[c(d(_),1)]),_:2},1024))),128))]),_:2},1024),e(b,null,{default:l(()=>[e(f,{color:"primary",variant:"text",to:`${s.getFullPath}`,"prepend-icon":"mdi-eye"},{default:l(()=>o[4]||(o[4]=[c(" View Project ")])),_:2,__:[4]},1032,["to"]),e(x),e(f,{icon:"",onClick:_=>u.toggleLike(s)},{default:l(()=>[e(B,null,{default:l(()=>[c(d(s.liked?"mdi-heart":"mdi-heart-outline"),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(m,{class:"mt-6"},{default:l(()=>[e(a,{cols:"12",class:"text-center"},{default:l(()=>[e(C,{modelValue:i.page,"onUpdate:modelValue":o[3]||(o[3]=s=>i.page=s),length:u.totalPages,rounded:""},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})])}const E=T(D,[["render",F]]);export{E as default};
